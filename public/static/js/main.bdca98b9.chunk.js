(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{43:function(e,t,n){e.exports=n(71)},48:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(39),c=n.n(l),u=(n(48),n(2)),i=n.n(u),o=n(6),m=n(1),s=n(14),p=n.n(s),d=n(13),f=n(12);function b(){var e=Object(d.a)(["\n\tdisplay: block;\n\theight: 200px;\n\tobject-fit: contain;\n"]);return b=function(){return e},e}function E(){var e=Object(d.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tbackground: white;\n\tborder-radius: 10%;\n"]);return E=function(){return e},e}var h=f.a.div(E()),v=f.a.img(b()),y=function(e){var t=e.symbol,n=e.onSelect;return r.a.createElement(h,null,r.a.createElement("h3",null,t.name),r.a.createElement(v,{src:t.path,alt:t.name}),n&&r.a.createElement("button",{onClick:function(){return n(t)}},"select"))},j=Object(a.createContext)(),O=function(e){var t=Object(a.useState)(null),n=Object(m.a)(t,2),l=n[0],c=n[1];return r.a.createElement(j.Provider,{value:[l,c]},e.children)},g=n(3);function x(){var e=Object(d.a)(["\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n\talign-items: center;\n\tjustify-content: center;\n\tgap: 2rem;\n"]);return x=function(){return e},e}var w=f.a.div(x()),k=function(e){var t=e.symbols,n=Object(a.useContext)(j),l=Object(m.a)(n,2),c=(l[0],l[1]),u=Object(g.useHistory)(),i=function(e){c(e),u.push("/pick")};return r.a.createElement("div",null,r.a.createElement(w,null,t.map((function(e){return r.a.createElement(y,{key:e.id,symbol:e,onSelect:i})}))))},S=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(!1),u=Object(m.a)(c,2),s=u[0],d=u[1];return Object(a.useEffect)((function(){(function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,p.a.get("http://127.0.0.1:8000/api/symbols");case 3:t=e.sent,d(!1),l(t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",null,s?"loading...":r.a.createElement(k,{symbols:n}))},q=n(4),C=Object(a.createContext)(),R={items:[]},D=function(e,t){switch(t.type){case"ADD_ITEM":return{items:[].concat(Object(q.a)(e.items),[t.payload])};case"CLEAR_CART":return{items:[]}}},A=function(e){var t=Object(a.useReducer)(D,R),n=Object(m.a)(t,2),l=n[0],c=n[1];return r.a.createElement(C.Provider,{value:[l,c]},e.children)},T=n(19),F=n(25),H=n(16),_=n(15);function L(){var e=Object(d.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tmax-width: 50%;\n"]);return L=function(){return e},e}var I=f.a.form(L()),N=function(){var e=Object(a.useContext)(j),t=Object(m.a)(e,1)[0],n=Object(H.a)({quantity:"1"}),l=n.register,c=n.handleSubmit,u=Object(a.useContext)(C),i=Object(m.a)(u,2),o=i[0],s=i[1],p=Object(_.useHistory)();return r.a.createElement("div",null,t&&r.a.createElement("img",{src:t.path,alt:t.name}),r.a.createElement(I,{onSubmit:c((function(e){s({type:"ADD_ITEM",payload:Object(F.a)(Object(F.a)({},e),{},{symbol:Object(F.a)({},t)})}),console.log(o),p.push("/")}))},r.a.createElement("div",null,r.a.createElement("input",{type:"radio",name:"product",value:"tshirt",id:"tshirt",ref:l({required:!0})}),r.a.createElement("label",{htmlFor:"tshirt"},"T-shirt"),r.a.createElement("input",{type:"radio",name:"product",value:"cup",id:"cup",ref:l({required:!0})}),r.a.createElement("label",{htmlFor:"cup"},"Cup")),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",name:"color",value:"blue",id:"blue",ref:l({required:!0})}),r.a.createElement("label",{htmlFor:"blue"},"Blue"),r.a.createElement("input",{type:"radio",name:"color",value:"yellow",id:"yellow",ref:l({required:!0})}),r.a.createElement("label",{htmlFor:"yellow"},"Yellow"),r.a.createElement("input",{type:"radio",name:"color",value:"white",id:"white",ref:l({required:!0})}),r.a.createElement("label",{htmlFor:"white"},"White")),r.a.createElement("input",{name:"quantity",type:"number",ref:l({required:!0}),defaultValue:1}),r.a.createElement("input",{type:"submit",title:"Add to card"})))},M=function(){var e=Object(a.useContext)(C),t=Object(m.a)(e,1)[0],n=Object(a.useState)(0),l=Object(m.a)(n,2),c=l[0],u=l[1];return Object(a.useEffect)((function(){!function(){var e=0;t.items.map((function(t){e+=parseInt(t.quantity)})),u(e)}()}),[t]),r.a.createElement("div",null,r.a.createElement(_.Link,{to:"/cart"},"quantity: ",c))},B=function(){var e=Object(a.useContext)(C),t=Object(m.a)(e,1)[0];console.log(t);var n=Object(g.useHistory)();return 0!==t.items.length?r.a.createElement("div",null,t.items.map((function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,e.color),r.a.createElement("h1",null,e.product),r.a.createElement("h1",null,e.symbol.name))})),r.a.createElement("button",{onClick:function(){n.push("/checkout")}},"Checkout")):"No items"},J=function(){var e=Object(H.a)(),t=e.register,n=e.handleSubmit,l=Object(a.useContext)(C),c=Object(m.a)(l,2),u=c[0],s=c[1],d=u.items,f=Object(_.useHistory)(),b=function(){var e=Object(o.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log({client:t,items:n}),e.next=4,p.a.post("http://127.0.0.1:8000/api/new-order",{client:t,items:n});case 4:a=e.sent,console.log(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:n((function(e){try{var t=b(e,d);s({type:"CLEAR_CART"}),f.push("/praise"),console.log(t)}catch(n){}}))},r.a.createElement("input",{type:"text",name:"first_name",id:"firstName",ref:t({required:!0}),placeholder:"First name"}),r.a.createElement("input",{type:"text",name:"last_name",id:"lastName",ref:t({required:!0}),placeholder:"Last name"}),r.a.createElement("input",{type:"email",name:"email",id:"email",ref:t({required:!0}),placeholder:"email"}),r.a.createElement("input",{type:"submit",title:"submit"})),d.map((function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,e.product),r.a.createElement("h2",null,e.color),r.a.createElement("h2",null,e.symbol.name))})))},P=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"THANK YOU!"),r.a.createElement(T.b,{to:"/"},"Home"))},V=function(){var e=Object(H.a)(),t=e.register,n=e.handleSubmit,l=Object(a.useState)(""),c=Object(m.a)(l,2),u=c[0],s=c[1],d=Object(_.useHistory)(),f=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.login,a=t.pass,e.next=3,p.a.post("http://127.0.0.1:8000/api/login",{login:n,pass:a});case 3:if(r=e.sent,console.log(r),r.data.allowed){e.next=9;break}return s("Wrong password or login."),e.abrupt("return");case 9:d.push("/admin");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,u||null,r.a.createElement("form",{onSubmit:n(f)},r.a.createElement("input",{type:"text",name:"login",id:"login",ref:t({required:!0})}),r.a.createElement("input",{type:"password",name:"pass",id:"password",ref:t({required:!0})}),r.a.createElement("input",{type:"submit",value:"Login"})))};function W(){var e=Object(d.a)(["\n\theight: 200px;\n\tborder: 3px dotted grey;\n"]);return W=function(){return e},e}var Y=f.a.div(W()),K=function(){var e=Object(H.a)(),t=e.register,n=e.setValue,a=e.handleSubmit,l=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),(n=new FormData).append("image",t.image[0]),e.next=5,p.a.post("http://127.0.0.1:8000/api/symbols",n);case 5:a=e.sent,console.log(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:a(l)},r.a.createElement("input",{type:"file",name:"image",id:"image",ref:t({required:!0})}),r.a.createElement(Y,{onDrop:function(e){e.preventDefault(),console.log(e.dataTransfer.files);var t=e.dataTransfer.files;n("image",t)},onDragOver:function(e){e.preventDefault()}},r.a.createElement("h1",null,"Drag here")),r.a.createElement("input",{type:"submit",value:"upload"})))};var U=function(){return r.a.createElement(T.a,null,r.a.createElement("div",null,r.a.createElement(A,null,r.a.createElement(O,null,r.a.createElement(M,null),r.a.createElement(g.Switch,null,r.a.createElement(g.Route,{exact:!0,path:"/"},r.a.createElement(S,null)),r.a.createElement(g.Route,{path:"/pick"},r.a.createElement(N,null)),r.a.createElement(g.Route,{path:"/cart"},r.a.createElement(B,null)),r.a.createElement(g.Route,{path:"/checkout"},r.a.createElement(J,null)),r.a.createElement(g.Route,{path:"/praise"},r.a.createElement(P,null)),r.a.createElement(g.Route,{path:"/login"},r.a.createElement(V,null)),r.a.createElement(g.Route,{path:"/admin"},r.a.createElement(K,null)))))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.bdca98b9.chunk.js.map